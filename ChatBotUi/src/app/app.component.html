<div class="chat-container">
  <div class="messages" #messageList>
    <mat-list>
      <ng-container *ngFor="let msg of messages">
        <mat-list-item [ngClass]="msg.author">
          <div class="message-content">{{ msg.content }}</div>
          <div class="rating" *ngIf="msg.author === 'Bot'">
            <button
              mat-icon-button
              (click)="rate(msg, 1)"
              [color]="msg.rating?.value === 1 ? 'primary' : undefined"
            >
              <mat-icon>thumb_up</mat-icon>
            </button>
            <button
              mat-icon-button
              (click)="rate(msg, -1)"
              [color]="msg.rating?.value === -1 ? 'warn' : undefined"
            >
              <mat-icon>thumb_down</mat-icon>
            </button>
          </div>
        </mat-list-item>
      </ng-container>
    </mat-list>
  </div>

  <div class="input-area">
    <mat-form-field class="message-input">
      <input matInput [(ngModel)]="input" (keyup.enter)="send()" placeholder="Type your message..." />
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="send()" [disabled]="isGenerating">Send</button>
    <button mat-raised-button color="warn" (click)="stop()" *ngIf="isGenerating">Stop</button>
  </div>
</div>
